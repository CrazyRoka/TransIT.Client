<div class="table-background border mt-3">
  <app-create-issue (addIssue)="reloadTable()"></app-create-issue>
  <app-issue-details [issue]="selectedIssue" (deleteIssue)="reloadTable()"></app-issue-details>
  <table
    id="issues"
    datatable
    [dtOptions]="options"
    [dtTrigger]="renderTrigger"
    class="table table-striped table-bordered"
  >
    <caption class="table-caption">
      Мої Заявки
    </caption>
    <thead>
      <tr>
        <th>Транспорт</th>
        <th>Стан Заявки</th>
        <th>Несправність</th>
        <th>Опис</th>
        <th>Дії</th>
      </tr>
    </thead>
    <tbody *ngIf="issues?.length !== 0">
      <tr *ngFor="let issue of issues">
        <td>{{ issue.vehicle.name | truncate }}</td>
        <td>{{ issue.state.transName | truncate }}</td>
        <td>{{ issue.malfunction.name | truncate }}</td>
        <td>{{ issue.summary | truncate }}</td>
        <td>
          <button (click)="selectIssue(issue)" class="btn" data-toggle="modal" data-target="#editModal">
            <i class="fas fa-edit"></i>
          </button>
        </td>
      </tr>
    </tbody>
    <tbody *ngIf="issues?.length === 0">
      <tr>
        <td colspan="5" class="no-data-available">Дані відсутні</td>
      </tr>
    </tbody>
  </table>
</div>
